<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Event Admin Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/c285d7f716.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="css/admin.css" />
</head>
<body>
  <div id="app">

    <div id="login-view" class="auth-view">
      <div class="auth-card">
        <h1 class="auth-title">Admin Login</h1>
        <p class="auth-subtitle">Sign in to manage events.</p>
        <form id="login-form">
          <div class="input-wrapper">
            <input type="email" id="login-email" class="form-input" placeholder=" " required>
            <label for="login-email" class="form-label">Email</label>
          </div>
          <div class="input-wrapper">
            <input type="password" id="login-password" class="form-input" placeholder=" " required>
            <label for="login-password" class="form-label">Password</label>
          </div>
          <button type="submit" class="btn btn-primary w-full">Sign In</button>
        </form>
        <div class="auth-divider"><span>OR</span></div>
        <button id="login-google-btn" class="btn btn-secondary w-full"><i class="fa-brands fa-google"></i> Sign in with Google</button>
        <p class="auth-switcher">Need an account? <button id="show-signup">Sign Up</button></p>
      </div>
    </div>

    <div id="signup-view" class="auth-view hidden">
        <div class="auth-card">
            <h1 class="auth-title">Create Admin Account</h1>
            <p class="auth-subtitle">Sign up for administrative access.</p>
            <form id="signup-form">
                <div class="input-wrapper">
                    <input type="email" id="signup-email" class="form-input" placeholder=" " required>
                    <label for="signup-email" class="form-label">Email</label>
                </div>
                <div class="input-wrapper">
                    <input type="password" id="signup-password" class="form-input" placeholder=" " required>
                    <label for="signup-password" class="form-label">Password</label>
                </div>
                <button type="submit" class="btn btn-primary w-full">Sign Up</button>
            </form>
            <div class="auth-divider"><span>OR</span></div>
            <button id="signup-google-btn" class="btn btn-secondary w-full"><i class="fa-brands fa-google"></i> Sign up with Google</button>
            <p class="auth-switcher">Already have an account? <button id="show-login">Sign In</button></p>
        </div>
    </div>

    <div id="loading-view" class="auth-view hidden">
      <p class="loading-text">Authenticating...</p>
    </div>

    <div id="denied-view" class="auth-view hidden">
        <div class="auth-card">
            <h1 class="auth-title" style="color: var(--color-danger);">Access Denied</h1>
            <p class="auth-subtitle">Your account is not authorized. Youâ€™ll be logged out shortly.</p>
        </div>
    </div>

    <div id="dashboard-view" class="hidden">
      <div class="dashboard-container">
        <main class="main-content">
          <header class="main-header">
            <div>
              <h1 class="header-title">Event Dashboard</h1>
              <p id="user-email" class="header-subtitle"></p>
            </div>
            <button id="signout-btn" class="btn btn-danger">Sign Out</button>
          </header>

          <div class="dashboard-grid-layout">
            
            <div class="form-column">
              <h2 id="form-title" class="form-main-title">Add New Event</h2>
              <form id="event-form">
                <input type="hidden" id="editing-event-id">
                
                <fieldset class="form-section">
                  <legend class="form-legend">Core Details</legend>
                  <div class="form-grid">
                    <div class="input-wrapper">
                      <input type="text" id="eventName" class="form-input" placeholder=" " required>
                      <label for="eventName" class="form-label">Event Name</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="text" id="eventTagline" class="form-input" placeholder=" ">
                      <label for="eventTagline" class="form-label">Event Tagline</label>
                    </div>
                    <div class="input-wrapper">
                        <input type="datetime-local" id="eventStartDate" class="form-input" required>
                        <label for="eventStartDate" class="form-label floating">Start Date & Time</label>
                    </div>
                    <div class="input-wrapper">
                        <input type="datetime-local" id="eventEndDate" class="form-input" required>
                        <label for="eventEndDate" class="form-label floating">End Date & Time</label>
                    </div>
                  </div>
                </fieldset>
    
                <fieldset class="form-section">
                  <legend class="form-legend">Meta & SEO</legend>
                  <div class="input-wrapper">
                    <input type="text" id="metaTitle" class="form-input" placeholder=" ">
                    <label for="metaTitle" class="form-label">Meta Title</label>
                  </div>
                  <div class="input-wrapper">
                    <textarea id="metaDescription" class="form-input" rows="2" placeholder=" "></textarea>
                    <label for="metaDescription" class="form-label">Meta Description</label>
                  </div>
                </fieldset>
    
                <fieldset class="form-section">
                  <legend class="form-legend">Hero Section</legend>
                  <div class="input-wrapper">
                    <input type="text" id="heroTitle" class="form-input" placeholder=" ">
                    <label for="heroTitle" class="form-label">Hero Title</label>
                  </div>
                   <div class="input-wrapper">
                    <input type="text" id="locationString" class="form-input" placeholder=" ">
                    <label for="locationString" class="form-label">Location String (e.g., College Auditorium)</label>
                  </div>
                  <div class="input-wrapper">
                    <input type="url" id="heroGif" class="form-input" placeholder=" ">
                    <label for="heroGif" class="form-label">Hero Background GIF URL</label>
                  </div>
                  <div id="hero-cta-container"></div>
                  <button type="button" id="add-cta-btn" class="btn btn-secondary"><i class="fa-solid fa-plus"></i> Add Hero Button</button>
                </fieldset>
    
                <fieldset class="form-section">
                    <legend class="form-legend">About Section</legend>
                    <div class="input-wrapper">
                      <input type="text" id="aboutTitle" class="form-input" placeholder=" ">
                      <label for="aboutTitle" class="form-label">About Section Title</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="text" id="aboutTagline" class="form-input" placeholder=" ">
                      <label for="aboutTagline" class="form-label">About Section Tagline</label>
                    </div>
                    <div class="input-wrapper">
                      <textarea id="aboutDescription" class="form-input" rows="4" placeholder=" "></textarea>
                      <label for="aboutDescription" class="form-label">Description (Use '|' for paragraphs)</label>
                    </div>
                    <h4 class="sub-heading">History & Impact</h4>
                    <div id="about-stats-container"></div>
                    <button type="button" id="add-stat-btn" class="btn btn-secondary"><i class="fa-solid fa-plus"></i> Add Stat</button>
                </fieldset>
    
                <fieldset class="form-section">
                    <legend class="form-legend">Highlights Video</legend>
                    <div class="input-wrapper">
                      <input type="text" id="highlightsTitle" class="form-input" placeholder=" ">
                      <label for="highlightsTitle" class="form-label">Highlights Section Title</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="url" id="highlightsVideoUrl" class="form-input" placeholder=" ">
                      <label for="highlightsVideoUrl" class="form-label">YouTube Embed URL</label>
                    </div>
                    <div class="input-wrapper">
                      <input type="text" id="highlightsCaption" class="form-input" placeholder=" ">
                      <label for="highlightsCaption" class="form-label">Video Caption</label>
                    </div>
                </fieldset>
    
                <fieldset class="form-section">
                    <legend class="form-legend">Event Categories</legend>
                    <div class="input-wrapper">
                      <input type="text" id="categoriesTitle" class="form-input" placeholder=" ">
                      <label for="categoriesTitle" class="form-label">Section Title (e.g., What to Expect)</label>
                    </div>
                    <div id="event-categories-container"></div>
                    <button type="button" id="add-category-btn" class="btn btn-secondary"><i class="fa-solid fa-plus"></i> Add Category</button>
                </fieldset>
    
                <fieldset class="form-section">
                    <legend class="form-legend">Schedule</legend>
                    <div class="input-wrapper">
                      <input type="url" id="schedulePdfUrl" class="form-input" placeholder=" ">
                      <label for="schedulePdfUrl" class="form-label">Optional: Full Schedule PDF URL</label>
                    </div>
                    <div id="schedule-days-container"></div>
                    <button type="button" id="add-day-btn" class="btn btn-secondary"><i class="fa-solid fa-plus"></i> Add Day</button>
                </fieldset>
    
                <fieldset class="form-section">
                    <legend class="form-legend">Speakers & Guests</legend>
                    <div class="input-wrapper">
                      <input type="text" id="speakersTitle" class="form-input" placeholder=" ">
                      <label for="speakersTitle" class="form-label">Section Title (e.g., Chief Guests)</label>
                    </div>
                    <div id="speakers-container"></div>
                    <button type="button" id="add-speaker-btn" class="btn btn-secondary"><i class="fa-solid fa-plus"></i> Add Speaker/Guest</button>
                </fieldset>
    
                <fieldset class="form-section">
                    <legend class="form-legend">News & Announcements</legend>
                    <div class="input-wrapper">
                      <input type="text" id="newsTitle" class="form-input" placeholder=" ">
                      <label for="newsTitle" class="form-label">Section Title (e.g., Latest Updates)</label>
                    </div>
                    <div id="news-container"></div>
                    <button type="button" id="add-news-btn" class="btn btn-secondary"><i class="fa-solid fa-plus"></i> Add News Article</button>
                </fieldset>
    
                <fieldset class="form-section">
                    <legend class="form-legend">Tickets / Entry</legend>
                     <div class="input-wrapper">
                      <input type="text" id="ticketsTitle" class="form-input" placeholder=" ">
                      <label for="ticketsTitle" class="form-label">Section Title (e.g., Get Your Tickets)</label>
                    </div>
                    <div id="tickets-container"></div>
                    <button type="button" id="add-ticket-btn" class="btn btn-secondary"><i class="fa-solid fa-plus"></i> Add Ticket Package</button>
                </fieldset>
    
                <fieldset class="form-section">
                    <legend class="form-legend">Organizing Team</legend>
                    <div class="input-wrapper">
                        <input type="text" id="teamTitle" class="form-input" placeholder=" ">
                        <label for="teamTitle" class="form-label">Section Title (e.g., Meet the Organizers)</label>
                    </div>
                    <div class="input-wrapper">
                        <input type="text" id="teamJoinText" class="form-input" placeholder=" ">
                        <label for="teamJoinText" class="form-label">Join Team Text</label>
                    </div>
                    <h4 class="sub-heading">Core Committee</h4>
                    <div class="input-wrapper">
                        <input type="text" id="teamCoreTitle" class="form-input" placeholder=" ">
                        <label for="teamCoreTitle" class="form-label">Core Team Subtitle</label>
                    </div>
                    <div id="team-core-container"></div>
                    <button type="button" id="add-core-member-btn" class="btn btn-secondary"><i class="fa-solid fa-plus"></i> Add Core Member</button>
                    <h4 class="sub-heading">Volunteers</h4>
                    <div class="input-wrapper">
                        <input type="text" id="teamVolunteersTitle" class="form-input" placeholder=" ">
                        <label for="teamVolunteersTitle" class="form-label">Volunteers Subtitle</label>
                    </div>
                    <div id="team-volunteers-container"></div>
                    <button type="button" id="add-volunteer-btn" class="btn btn-secondary"><i class="fa-solid fa-plus"></i> Add Volunteer</button>
                </fieldset>
    
                <fieldset class="form-section">
                    <legend class="form-legend">Photo Gallery</legend>
                    <div class="input-wrapper">
                        <input type="text" id="galleryTitle" class="form-input" placeholder=" ">
                        <label for="galleryTitle" class="form-label">Section Title (e.g., Event Moments)</label>
                    </div>
                    <div id="gallery-container"></div>
                    <button type="button" id="add-gallery-image-btn" class="btn btn-secondary"><i class="fa-solid fa-plus"></i> Add Gallery Image</button>
                </fieldset>
    
                <fieldset class="form-section">
                    <legend class="form-legend">FAQ</legend>
                    <div class="input-wrapper">
                        <input type="text" id="faqTitle" class="form-input" placeholder=" ">
                        <label for="faqTitle" class="form-label">Section Title (e.g., Common Questions)</label>
                    </div>
                    <div id="faq-container"></div>
                    <button type="button" id="add-faq-btn" class="btn btn-secondary"><i class="fa-solid fa-plus"></i> Add FAQ</button>
                </fieldset>
    
                <fieldset class="form-section">
                    <legend class="form-legend">Location</legend>
                    <div class="input-wrapper">
                        <input type="text" id="locationTitle" class="form-input" placeholder=" ">
                        <label for="locationTitle" class="form-label">Section Title (e.g., Find Us Here)</label>
                    </div>
                    <div class="input-wrapper">
                        <textarea id="locationAddress" class="form-input" rows="2" placeholder=" "></textarea>
                        <label for="locationAddress" class="form-label">Address (Use &lt;br&gt; for new lines)</label>
                    </div>
                    <div class="input-wrapper">
                        <input type="url" id="locationMapUrl" class="form-input" placeholder=" ">
                        <label for="locationMapUrl" class="form-label">Google Maps Embed URL</label>
                    </div>
                </fieldset>

                <div id="form-actions" class="form-actions-sticky">
                  <button type="submit" id="submit-event-btn" class="btn btn-primary">
                    <span>Save New Event</span>
                    <div class="spinner"></div>
                  </button>
                  <button type="button" id="clear-form-btn" class="btn btn-secondary">Clear Form</button>
                  <button type="button" id="cancel-edit-btn" class="btn btn-warning hidden">Cancel Edit</button>
                </div>
              </form>
            </div>

            <div class="list-column">
                <section id="current-events-section">
                    <h2 class="list-main-title">Current Events</h2>
                    <div id="current-events-list">
                        </div>
                </section>
            </div>

          </div>
        </main>
      </div>
    </div>
  </div>

  <div id="confirmation-modal" class="modal-overlay hidden" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true">
        <h3 id="modal-title" class="modal-title">Confirm Deletion</h3>
        <p id="modal-message" class="modal-body">Are you sure you want to permanently delete this event? This action cannot be undone.</p>
        <div class="modal-actions">
            <button id="modal-cancel-btn" class="btn btn-secondary">Cancel</button>
            <button id="modal-confirm-btn" class="btn btn-danger">Yes, Delete</button>
        </div>
    </div>
  </div>

  <div id="message-box" class="message-box"></div>

  <template id="hero-cta-template">
    <div class="dynamic-item">
      <input type="text" class="form-input-sm cta-text" placeholder="Button Text">
      <input type="text" class="form-input-sm cta-url" placeholder="URL (#about, etc)">
      <select class="form-input-sm cta-class">
        <option value="btn-accent">Primary</option>
        <option value="btn-secondary">Secondary</option>
      </select>
      <button type="button" class="remove-btn"><i class="fa-solid fa-trash"></i></button>
    </div>
  </template>

  <template id="about-stat-template">
    <div class="dynamic-item">
      <input type="text" class="form-input-sm stat-value" placeholder="Value (e.g., 10+)">
      <input type="text" class="form-input-sm stat-label" placeholder="Label (e.g., years running)">
      <button type="button" class="remove-btn"><i class="fa-solid fa-trash"></i></button>
    </div>
  </template>

  <template id="category-template">
    <div class="dynamic-item-card">
      <input type="text" class="form-input-sm category-icon" placeholder="Font Awesome Icon (e.g., fa-solid fa-gamepad)">
      <input type="text" class="form-input-sm category-title" placeholder="Category Title">
      <textarea class="form-input-sm category-description" rows="2" placeholder="Description"></textarea>
      <button type="button" class="remove-btn card-remove-btn"><i class="fa-solid fa-trash"></i></button>
    </div>
  </template>

  <template id="schedule-day-template">
    <div class="dynamic-item-card is-nested">
      <input type="text" class="form-input-sm day-title" placeholder="Day Title (e.g., Main Night)">
      <input type="text" class="form-input-sm day-date" placeholder="Date (e.g., Nov 15)">
      <div class="day-events-container"></div>
      <button type="button" class="btn btn-secondary btn-sm add-event-btn"><i class="fa-solid fa-plus"></i> Add Schedule Event</button>
      <button type="button" class="remove-btn card-remove-btn"><i class="fa-solid fa-trash"></i></button>
    </div>
  </template>

  <template id="schedule-event-template">
    <div class="dynamic-item">
      <input type="text" class="form-input-sm event-time" placeholder="18:00">
      <input type="text" class="form-input-sm event-title" placeholder="Event Title">
      <input type="text" class="form-input-sm event-details" placeholder="Details (e.g., by John Doe)">
      <button type="button" class="remove-btn"><i class="fa-solid fa-trash"></i></button>
    </div>
  </template>

  <template id="speaker-template">
    <div class="dynamic-item">
      <input type="text" class="form-input-sm speaker-name" placeholder="Speaker Name">
      <input type="text" class="form-input-sm speaker-role" placeholder="Role / Title">
      <input type="url" class="form-input-sm speaker-img" placeholder="Image URL">
      <button type="button" class="remove-btn"><i class="fa-solid fa-trash"></i></button>
    </div>
  </template>

  <template id="news-template">
    <div class="dynamic-item-card">
      <input type="text" class="form-input-sm news-title" placeholder="Article Title">
      <textarea class="form-input-sm news-excerpt" rows="2" placeholder="Excerpt / Summary"></textarea>
      <div class="form-grid">
        <input type="date" class="form-input-sm news-date">
        <input type="text" class="form-input-sm news-category" placeholder="Category">
      </div>
      <button type="button" class="remove-btn card-remove-btn"><i class="fa-solid fa-trash"></i></button>
    </div>
  </template>

  <template id="ticket-template">
    <div class="dynamic-item-card">
      <input type="text" class="form-input-sm ticket-name" placeholder="Package Name (e.g., Student Pass)">
      <input type="text" class="form-input-sm ticket-price" placeholder="Price (e.g., $49 or Free)">
      <textarea class="form-input-sm ticket-features" rows="3" placeholder="Features (One per line)"></textarea>
      <label class="checkbox-label"><input type="checkbox" class="ticket-featured"> Featured?</label>
      <button type="button" class="remove-btn card-remove-btn"><i class="fa-solid fa-trash"></i></button>
    </div>
  </template>

  <template id="team-member-template">
    <div class="dynamic-item">
      <input type="text" class="form-input-sm member-name" placeholder="Name">
      <input type="text" class="form-input-sm member-role" placeholder="Role">
      <input type="url" class="form-input-sm member-img" placeholder="Image URL">
      <button type="button" class="remove-btn"><i class="fa-solid fa-trash"></i></button>
    </div>
  </template>

  <template id="gallery-image-template">
    <div class="dynamic-item">
      <input type="url" class="form-input-sm gallery-src" placeholder="Image URL">
      <input type="text" class="form-input-sm gallery-alt" placeholder="Alt Text (description)">
      <button type="button" class="remove-btn"><i class="fa-solid fa-trash"></i></button>
    </div>
  </template>

  <template id="faq-template">
    <div class="dynamic-item-card">
      <input type="text" class="form-input-sm faq-question" placeholder="Question">
      <textarea class="form-input-sm faq-answer" rows="2" placeholder="Answer"></textarea>
      <select class="form-input-sm faq-category">
        <option value="general">General</option>
        <option value="events">Events</option>
        <option value="tickets">Tickets</option>
        <option value="location">Location</option>
      </select>
      <button type="button" class="remove-btn card-remove-btn"><i class="fa-solid fa-trash"></i></button>
    </div>
  </template>

  <script type="module" src="js/admin.js"></script>
</body>
</html>